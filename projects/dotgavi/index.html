---
title: "돗가비 : 저주받은 사냥꾼"
subtitle: "2021년 11월 15일, Team GOAT"
subtitle_hide: true
layout: page
hide: true
---
<!--프로젝트 템플릿 버전: 2021-12-09 05:02:09-->
<style>
    table th {
        text-align: center;
        vertical-align: middle;
        width: 200px;
    }

    @media screen and (max-width: 600px) {
        table th {
            width: fit-content;
        }
    }
</style>
<div>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/waKvxe485XU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
</div>
<table>
    <tbody>
        <tr>
            <th>플랫폼</th>
            <td>Windows</td>
        </tr>
        <tr>
            <th>장르</th>
            <td>액션</td>
        </tr>
        <tr>
            <th>개발 플랫폼</th>
            <td>Unity</td>
        </tr>
        <tr>
            <th>진행 기간</th>
            <td>2020년 11월 ~ 2021년 11월</td>
        </tr>
        <tr>
            <th>관련 링크</th>
            <td><a href="https://indie.onstove.com/ko/games/678">스토브 상점</a></td>
        </tr>
    </tbody>
</table>
<p>
    청강문화산업대학 2021년 졸업 작품으로 개발한 '세키로' 및 '젤다의 전설 브레스 오브 더 와일드' 레퍼런스의 액션 게임 입니다.
</p>
<hr />
<h3>1. 핵심 작업</h3>
<h4>1.1. 플레이어 캐릭터 시스템</h4>
<figure class="center image fit">
    <img src="images/player_character.png" alt="" />
    <figcaption>플레이어 캐릭터 프리팹</figcaption>
</figure>
<p>
    플레이어 캐릭터 시스템은 AI 시스템과 함께 돗가비 프로젝트의 핵심적인 게임 플레이를 담당하며 유니티 애니메이션 시스템을 보다 효율적으로 활용하고 외부 시스템과 유기적으로 동작할 수 있는 구조를 의도하였습니다.
</p>
<h4>1.2. 카메라 시스템</h4>
<figure class="center image fit">
    <img src="images/camera_system.png" alt="" />
    <figcaption>플레이어 캐릭터를 추적하는 카메라</figcaption>
</figure>
<p>
    3D 백뷰 액션 게임을 설계하면서 몰입감을 주는 데에 가장 중요한 것은 카메라의 움직임이라고 생각하였습니다. 프로토타입 프로젝트에서는 Cinemachine의 FreeLookCamera를 이용하였으나 의도적인 움직임을 하는 데에는 한계가 있었고 플레이어를 중심으로 원형 궤도를 돌면서도 부드럽게 움직이는 카메라 코드를 직업 설계하게 되었습니다. 돗가비의 본격적인 개발 초기부터 플레이어 캐릭터 시스템과 함께 가장 많은 공을 들인 시스템이며 의도한 동작을 위해 많은 연구를 하여 개인적으로도 애착이 많은 코드입니다.
</p>
<h4>1.3. 인게임 UI</h4>
<figure class="center image fit">
    <img src="images/ui.png" alt="" />
    <figcaption>인게임 UI</figcaption>
</figure>
<p>
    게이지바 컴포넌트는 게이지 축소 및 기타 복합적인 연출 효과를 위해 이미지 레이어 구조로 이미지를 제어할 수 있는 컴포넌트입니다. 이 부분은 ‘젤다의 전설 : 야생의 숨결’에서 참고를 하여 감소 영역의 감소 속도 및 딜레이를 조정하여 유사한 효과를 내도록 의도하였습니다.
</p>
<h4>1.4. 로딩 시스템</h4>
<p>
    로딩 시스템은 하나의 코루틴 시퀀스로 이루어져 있으며 오브젝트가 많고 메모리를 많이 차지하는 저희 게임 특성상 다음 씬을 로딩하며 이전 씬의 메모리를 해제할 수 있도록 로딩 씬을 완전히 로드한 후 로딩 씬에서 다음 씬을 로드하도록 구성하였습니다.
</p>
<h4>1.5. 커스텀 프로세싱 볼륨</h4>
<p>
    커스텀 프로세싱 볼륨은 초기에는 만들 필요성을 그다지 못 느꼈으나 블러, 블랙아웃, 데미지 효과 등의 스크린 이펙트를 포스트 프로세싱 기반으로 구현하게 되면서 애니메이션에서 머티리얼을 제어할 방법을 찾던 중 URP에서 기본으로 제공하는 포스트 프로세싱 볼륨을 활용하는 방법을 고안하여 연구하고 구현하였습니다.
</p>
<p>
    이를 위하여 며칠간 URP의 노출된 소스 코드를 분석하여 오픈소스로 공개되어 있는 <a href="https://github.com/Cyanilux/URP_BlitRenderFeature">BlitRenderFeature 코드</a>를 개조하고 VolumeComponent 오브젝트를 상속받아 구현하였습니다.
</p>
<h4>1.6. 게임 연출</h4>
<figure class="center image fit">
    <img src="images/cutscene_directing.png" alt="" />
    <figcaption>컷씬 연출 작업 화면</figcaption>
</figure>
<p>
    컷씬과 같은 게임 연출들은 유니티 타임 라인을 통해 구현하였으며 몇가지 기술적인 제약사항으로 인해 기획자 대신 본인이 연출 작업을 담당하게 되었습니다. 대사 출력을 위해 사용자 정의 타임라인 트랙 및 클립을 구현하거나 시그널 이벤트를 통한 C# 함수 호출로 최소한의 리소스로 최대한의 연출 결과를 도출할 수 있도록 노력하였습니다.
</p>
<h4>1.7. 오디오 작업</h4>
<figure class="center image fit">
    <img src="images/fmod.png" alt="" />
    <figcaption>FMOD 오디오 작업 화면</figcaption>
</figure>
<p>
    기획자가 작업한 사운드 소스를 잘 어우러지도록 추가적으로 믹싱 및 마스터링하는 작업과 특수 효과 작업에 관여하였으며 BGM 작업의 경우 구매한 음원을 조립하여 전투 진척에 따라 진행이 바뀌는 적응형 음악 작업을 전반적으로 진행하였습니다.
</p>
<hr />
<h3 id="subdoc"><a href="#subdoc">#</a>하위 문서</h3>
<p>
    <a href="player-character.html"><i class="fas fa-file-alt"></i> 플레이어 캐릭터</a><br />
    <a href="/pending.html"><i class="fas fa-file"></i> 인게임 UI</a><br />
    <a href="/pending.html"><i class="fas fa-file"></i> 유틸리티</a>
</p>